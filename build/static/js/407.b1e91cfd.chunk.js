"use strict";(self.webpackChunkescapefromdeath=self.webpackChunkescapefromdeath||[]).push([[407],{831:function(e,s,t){t.d(s,{Z:function(){return r}});var a=t(867),n="NCroll_body__oio9F",i=t(834),r=a.memo((function(e){console.log("running...");var s=e.num.toString().split(""),t=16|e.size;return(0,i.jsx)("div",{className:n,style:{fontSize:t+"px",height:16===t?t+2:t-1+"px"},children:s.map((function(e){return(0,i.jsx)("span",{style:{width:t/2+1+"px",left:-t/2+1+"px"},"data-number":e,children:"0123456789"},Math.random())}))})}))},533:function(e,s,t){t.r(s),t.d(s,{default:function(){return se}});var a=t(982),n=t(885),i=t(867),r=t(956),o=t.n(r),c="Thing_text__eG6NV",d=t(834);function l(e){var s=e.things,t=s.tid,a=s.lv,r=s.src,l=s.tname,h=s.ttype,p=(s.dsrc,i.useState(s.wid)),f=(0,n.Z)(p,2),m=f[0],u=f[1],g=i.useState(s.hei),v=(0,n.Z)(g,2),x=v[0],j=v[1],b=i.useState(s.transf),w=(0,n.Z)(b,2),_=w[0],D=w[1];function y(e){return null==e?0:e.offsetLeft+y(e.parentElement)}function N(e){return null==e?0:e.offsetTop+N(e.parentElement)}function k(e){var t,a;t=e,a=s,o().publish("showRight",{mouseEvent:t,things:a}),e.preventDefault()}return i.useEffect((function(){o().subscribe("sendWareArr",(function(e,s){s}))}),[]),i.useEffect((function(){o().subscribe("transf",(function(e,s){if(s.tid===t){var a=x;x=m,_=!_,u(m=a),j(x),D(_)}}))}),[]),(0,d.jsxs)("div",{id:t,className:c,onContextMenu:function(e){k(e)},onDoubleClick:function(){o().publish("showInfo",{things:s})},draggable:!0,onDragStart:function(e){console.log("start"),console.log(e);var s=y(e.target),a=N(e.target);console.log("\u5143\u7d20\u7edd\u5bf9\u4f4d\u7f6e:",[s,a]);var n=[Math.floor(e.target.offsetWidth/59.5),Math.floor(e.target.offsetHeight/59.5)],i=e.pageX,r=e.pageY;console.log("\u5f53\u524d\u9f20\u5de6/\u53f3\u4fa7\u8ddd\u79bb",[i,r]);var o=e.pageX-s,c=e.pageY-a;console.log("\u76f8\u5bf9\u4f4d\u7f6e\u9f20\u6807",[o,c]);var d=e.target.parentElement.offsetLeft,l=e.target.parentElement.offsetTop,h=0,p=0,f=e.target.parentElement.parentElement;void 0!==f&&(h=f.offsetLeft,p=f.offsetTop);var m=[h-d,p-l];setTimeout((function(){e.target.style.opacity=.2,e.target.style.zIndex=-1}),0),e.dataTransfer.dropEffect="move",e.dataTransfer.setData("id",e.target.id),e.dataTransfer.setData("leftTopPoint",m),e.dataTransfer.setData("eleCount",n),e.dataTransfer.setData("mouseRelLocation",[o,c]),e.dataTransfer.setData("sign",e.target.parentElement.dataset.thisTtype),e.dataTransfer.setDragImage(document.getElementById(t),0,0)},onDragEnd:function(e){var s="0px"===e.target.style.left?0:parseFloat(e.target.style.left.slice(1)),t="0px"===e.target.style.top?0:parseFloat(e.target.style.top.slice(1)),a=Math.round(s/59.5),n=Math.round(t/59.5);console.log("style",[a,n]),e.target.style.opacity=1,e.target.style.zIndex=90;var i=e.target.offsetLeft,r=e.target.offsetTop,o=0,c=0,d=e.target.parentElement;void 0!==d&&(o=d.offsetLeft,c=d.offsetTop);var l=[o-i-s,c-r-t],h=[Math.ceil(l[0]/59.5)-a,Math.ceil(l[1]/59.5)-n];console.log("leftPoint",l),console.log("\u9876\u70b9",h),h[0]<0&&console.log("\u9519\u8bef")},"data-wid":m,"data-hei":x,"data-lv":a,children:[(0,d.jsxs)("span",{children:[h,"_",l]}),(0,d.jsx)("img",{src:r,alt:"pic",draggable:!1})]})}var h=t(671),p=t(144),f=t(136),m=t(277),u="ThreeD_body__mHIn+",g="ThreeD_iframe__QcI7n",v="ThreeD_left__YnkIj",x="ThreeD_rightShowBut__5tEDw",j="ThreeD_leftShowBut__axcQq",b="ThreeD_leftshowTitle__H4bdn",w="ThreeD_right__A5WGO",_="ThreeD_container__lOT9y",D="ThreeD_quit__u1xvm",y="ThreeD_move__yi+r5",N="ThreeD_aided__sHdKR",k="ThreeD_contain__JK+dZ",T="ThreeD_grid__5FYcZ",S="ThreeD_levelSpan__Snq25",Z=t(585),H=t(606),L=t(488),O=t.p+"static/media/acc.614dee800dc935576be5.jpg",E=t(831),R=function(e){(0,f.Z)(t,e);var s=(0,m.Z)(t);function t(){var e;(0,h.Z)(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).item=e.props.items.things,e.divMoveRef=i.createRef(),e.moveRef=i.createRef(),e.state={isMyThreeD:!1,isRightShow:!0,isLeftShow:!0,backpackSize:new Array(50).fill(void 0)},e.changeRightShow=function(){e.state.isRightShow?e.setState({isRightShow:!1}):e.setState({isRightShow:!0})},e.changeLeftShow=function(){e.state.isLeftShow?e.setState({isLeftShow:!1}):e.setState({isLeftShow:!0})},e.isMyThreeD=!1,e.test={tid:31,wid:1,hei:1,lv:1,src:"./picture/things/weapon/sight.png",tname:"\u5355\u500d",ttype:"\u7784\u51c6\u955c",dsrc:"https://sketchfab.com/models/9e06921807da4dde9d77596dc58ed8f2/embed"},e}return(0,p.Z)(t,[{key:"repeatRender",value:function(e,s,t,a){var n=this;requestAnimationFrame((function(){return n.repeatRender(e,s,t,a)})),e.update(),s.render(t,a)}},{key:"createThreeD",value:function(){var e=this,s=new Z.xsS,t=new Z.cPb(75,1.875,.1,1e3);t.position.set(0,0,25);var a=new Z.CP7({antialias:!0,alpha:!0});a.setSize(600,320),document.getElementById("container").appendChild(a.domElement);var n=new Z.xo$(300,300,300),i=new Z.vBJ({map:(new Z.dpR).load(O),color:16777215,side:Z._Li}),r=new Z.Kj0(n,i);s.add(r);var o=new H.z(t,a.domElement);o.enablePan=!0,o.enableZoom=!0,o.minDistance=0,o.maxDistance=100,o.enableDamping=!0,o.dampingFactor=.1,o.maxPolarAngle=Math.PI/4*3,o.minPolarAngle=Math.PI/4;var c=new Z.Ilk(16777215),d=new Z.Mig(c);d.intensity=2,d.name="\u73af\u5883\u5149",s.add(d);var l=new Z.Ox3(c);l.position.set(100,100,100),l.intensity=3,s.add(l);var h=new Z.Ox3(c);h.position.set(100,0,0),h.intensity=3,s.add(h),(new L.E).load("module/the_hornet_military_helmet.glb",(function(n){n.scene.position.set(0,0,0),s.add(n.scene),e.changeAngle(t,n.scene,H.z,a)})),this.repeatRender(o,a,s,t)}},{key:"changeAngle",value:function(e,s,t,a){var n=new Z.fQA;n.setFromObject(s),n.geometry.computeBoundingSphere();var i=n.geometry.boundingSphere.center,r=n.geometry.boundingSphere.radius,o=new Z.Pa4(-s.position.x+1*r,s.position.y,s.position.z),c=new Z.Pa4(i.x+s.position.x,i.y+s.position.y,i.z+s.position.z);e.position.copy(o),t.target=c,e.lookAt(c)}},{key:"unmountThis",value:function(e){o().publish("decreseInfo",{tid:e})}},{key:"componentDidMount",value:function(){this.isMyThreeD&&this.createThreeD();var e=this;this.moveRef.current.onmousedown=function(s){var t=s.offsetX,a=s.offsetY;document.onmousemove=function(s){var n=s.clientX-t,i=s.clientY-a;e.divMoveRef.current.style.left=n+20+"px",e.divMoveRef.current.style.top=i+20+"px"}},this.moveRef.current.onmouseup=function(){document.onmousemove=null}}},{key:"weaponDropHandler",value:function(e){if(e.preventDefault(),console.log("first"),void 0===e.target.dataset.sign)return!1;var s=e.dataTransfer.getData("id"),t=document.getElementById(s);t.style.left="0",t.style.top="0",e.target.appendChild(t)}},{key:"dragOverHandler",value:function(e){e.preventDefault(),console.log(e),e.onkeydown=function(e){console.log(e)},e.dataTransfer.dropEffect="move"}},{key:"render",value:function(){var e=this;return(0,d.jsxs)("div",{className:u,"data-level":this.item.lv,"data-isrightshow":this.state.isRightShow,"data-isleftshow":this.state.isLeftShow,ref:this.divMoveRef,children:[(0,d.jsx)("button",{className:D,onClick:function(){e.unmountThis(e.item.tid)},children:" X "}),(0,d.jsx)("div",{className:y,ref:this.moveRef,children:" "}),(0,d.jsxs)("div",{className:v,"data-isleftshow":this.state.isLeftShow,children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:N,"data-level":this.item.lv,children:[(0,d.jsx)("div",{onDrop:this.weaponDropHandler,onDragOver:this.dragOverHandler,"data-sign":"dep",children:"\u7784\u51c6\u955c"}),(0,d.jsx)("div",{onDrop:this.weaponDropHandler,onDragOver:this.dragOverHandler,"data-sign":"dep",children:"\u67aa\u7ba1"}),(0,d.jsx)("div",{onDrop:this.weaponDropHandler,onDragOver:this.dragOverHandler,"data-sign":"dep",children:"\u6fc0\u5149"}),(0,d.jsx)("div",{onDrop:this.weaponDropHandler,onDragOver:this.dragOverHandler,"data-sign":"dep",children:"\u5f39\u5323"}),(0,d.jsx)("div",{onDrop:this.weaponDropHandler,onDragOver:this.dragOverHandler,"data-sign":"dep",children:"\u67aa\u6258"}),(0,d.jsx)("div",{onDrop:this.weaponDropHandler,onDragOver:this.dragOverHandler,"data-sign":"dep",children:"\u63e1\u628a"})]}),this.isMyThreeD?(0,d.jsx)("div",{className:_,id:"container"}):(0,d.jsx)("iframe",{title:"xxx",frameBorder:0,className:g,src:this.item.dsrc+"?autostart=1"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:S,"data-level":this.item.lv,children:this.item.tname}),(0,d.jsx)("button",{onClick:this.changeRightShow,className:x,"data-isrightshow":this.state.isRightShow,children:"+"})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{children:["\u7cbe\u5ea6 : ",(0,d.jsx)(E.Z,{num:10},1)," "]}),(0,d.jsxs)("span",{children:["\u7b49\u7ea7 : ",(0,d.jsx)(E.Z,{num:6},2)]}),(0,d.jsxs)("span",{children:["\u635f\u574f : ",(0,d.jsx)(E.Z,{num:10},3),"%"]}),(0,d.jsxs)("span",{children:["\u5c04\u901f : ",(0,d.jsx)(E.Z,{num:750},4)]}),(0,d.jsxs)("span",{children:["\u57fa\u7840\u4f24\u5bb3 : ",(0,d.jsx)(E.Z,{num:18},5)]}),(0,d.jsxs)("span",{children:["\u9644\u52a0\u4f24\u5bb3 : ",(0,d.jsx)(E.Z,{num:5},6)]}),(0,d.jsxs)("span",{children:["\u91cd\u91cf : ",(0,d.jsx)(E.Z,{num:8},7)]})]})]}),(0,d.jsxs)("div",{className:w,"data-isrightshow":this.state.isRightShow,children:[(0,d.jsx)("button",{onClick:this.changeLeftShow,className:j,"data-isleftshow":this.state.isLeftShow,children:"+"}),(0,d.jsx)("span",{className:b,"data-level":this.item.lv,"data-isleftshow":!this.state.isLeftShow,children:this.item.tname}),"\u80cc\u5305"===this.item.ttype?(0,d.jsx)("div",{className:k,onDrop:this.weaponDropHandler,onDragOver:this.dragOverHandler,"data-sign":"backpacks","data-size":this.state.backpackSize.length/5,children:this.state.backpackSize.map((function(e,s){return(0,d.jsx)("div",{className:T,"data-place":!0,"data-sign":"backpack"},s)}))}):(0,d.jsx)("pre",{children:"\u732b\u5934\u9e70\u773c\u5468\u7684\u7fbd\u6bdb\u5448\u8f90\u5c04\u72b6\uff0c\u7ec6\u7fbd\u7684\u6392\u5217\u5f62\u6210\u8138\u76d8\uff0c\u9762\u5f62\u4f3c\u732b\uff0c\u56e0\u6b64\u5f97\u540d\u4e3a\u732b\u5934\u9e70\u3002\u5b83\u5468\u8eab\u7fbd\u6bdb\u5927\u591a\u4e3a\u8910\u8272\uff0c\u6563\u7f00\u7ec6\u6591\uff0c\u7a20\u5bc6\u800c\u677e\u8f6f\uff0c\u98de\u884c\u65f6\u65e0\u58f0\u3002"})]})]})}}]),t}(i.Component),z="WareHouse_body__hZ9-y",C="WareHouse_title__qYHc2",M="WareHouse_main__TtS1F",I="WareHouse_left__OW72Y",A="WareHouse_division__uEAMY",W="WareHouse_equment__3oORU",P="WareHouse_mid__dX3DC",Y="WareHouse_hasprocess__m+F4y",B="WareHouse_allprocess__3gqX6",X="WareHouse_optation__cj2Pt",F="WareHouse_right__1kVEL",q="WareHouse_contain__E1Scv",K="WareHouse_walletContain__NQIY2",Q="WareHouse_insuranceContain__PLk+e",V="WareHouse_weaponContaion__fZq8l",G="WareHouse_backpack__jSkIr",J="WareHouse_grid__qhFTc",U="Options_body__jnrFA",$="Options_reverse__gd6s5";function ee(){var e=i.useState(!1),s=(0,n.Z)(e,2),t=s[0],a=s[1],r=i.useState(null),c=(0,n.Z)(r,2),l=c[0],h=c[1];function p(){a(!1)}function f(){p()}return i.useEffect((function(){o().subscribe("showRight",(function(e,s){a(!1);var t=s.mouseEvent,n=s.things;h(n),console.log("mouseEvent",t),document.getElementById("options").style.left=t.clientX+"px",document.getElementById("options").style.top=t.clientY+"px",a(!0)}))}),[]),document.onclick=function(){p()},(0,d.jsxs)("div",{id:"options",className:U,"data-isshow":t,children:[(0,d.jsx)("button",{onClick:function(){o().publish("showInfo",{things:l}),p()},children:"\u6253\u5f00"}),(0,d.jsx)("button",{onClick:f,children:"\u88c5\u5907/\u5378\u4e0b"}),(0,d.jsx)("button",{onClick:f,children:"\u8df3\u86a4\u5e02\u573a"}),(0,d.jsx)("button",{onClick:function(){o().publish("transf",l),p()},children:"\u65cb\u8f6c 90\xb0"}),(0,d.jsx)("button",{className:$,onClick:function(){p()},children:"\u4e22\u5f03"})]})}function se(){var e=i.useState(new Array(720).fill(0)),s=(0,n.Z)(e,2),t=s[0],r=(s[1],i.useState(360)),c=(0,n.Z)(r,2),h=c[0],p=(c[1],i.useState(new Array(32).fill(0))),f=(0,n.Z)(p,2),m=f[0],u=(f[1],i.useState(16)),g=(0,n.Z)(u,2),v=g[0],x=(g[1],i.useState(new Array(16).fill(0))),j=(0,n.Z)(x,2),b=j[0],w=(j[1],i.useState(8)),_=(0,n.Z)(w,2),D=_[0],y=(_[1],i.useState([])),N=(0,n.Z)(y,2),k=N[0],T=N[1],S=i.useState(new Array(720).fill(void 0)),Z=(0,n.Z)(S,2),H=Z[0];Z[1];H[4]={tid:1,wid:4,hei:2,lv:4,src:"./picture/things/weapon/AK-47After.png",tname:"AK-47",ttype:"\u7a81\u51fb\u6b65\u67aa",dsrc:"https://sketchfab.com/models/c1fa5b79ab0c42a1949506b3e0137424/embed",transf:!1},H[109]={tid:109,wid:2,hei:2,lv:7,src:"./picture/things/weapon/heads.png",tname:"\u4e09\u4f53\u519b",ttype:"\u5934\u76d4",dsrc:"https://sketchfab.com/models/8fd2cf7c61cd464883632c7fce7fdf54/embed",transf:!1},H[0]={tid:0,wid:4,hei:2,lv:1,src:"./picture/things/weapon/M4A1.png",tname:"M4A1",ttype:"\u7a81\u51fb\u6b65\u67aa",dsrc:"https://sketchfab.com/models/17c8ff1b23204de4a69f74b6527d6eab/embed",transf:!1},H[24]={tid:12,wid:4,hei:4,lv:7,src:"./picture/things/weapon/backpack.png",tname:"\u767b\u5c71\u80cc\u5305",ttype:"\u80cc\u5305",dsrc:"https://sketchfab.com/models/4732564eec0542ed8b1855f381e64127/embed",transf:!1},H[28]={tid:28,wid:1,hei:1,lv:2,src:"./picture/things/weapon/chip1.png",tname:"A",ttype:"\u82af\u7247",dsrc:"https://sketchfab.com/models/391d1d514d294c6db34c5e672e88c6e9/embed",transf:!1},H[29]={tid:29,wid:1,hei:1,lv:2,src:"./picture/things/weapon/chip2.png",tname:"Z",ttype:"\u82af\u7247",dsrc:"https://sketchfab.com/models/7686cfc26b68477cb64d33a467c9f9bf/embed",transf:!1},H[30]={tid:30,wid:1,hei:1,lv:1,src:"./picture/things/weapon/sight.png",tname:"\u5355\u500d",ttype:"\u7784\u51c6\u955c",dsrc:"https://sketchfab.com/models/9e06921807da4dde9d77596dc58ed8f2/embed",transf:!1},H[72]={tid:72,wid:4,hei:3,lv:3,src:"./picture/things/weapon/vest.png",tname:"\u9632\u5f39\u8863",ttype:"\u62a4\u7532",dsrc:"https://sketchfab.com/models/5a137f96c6d54d5eab0793b96a4a638c/embed",transf:!1},H[115]={tid:115,wid:2,hei:2,lv:5,src:"./picture/things/weapon/leftHands.png",tname:"\u7ede\u9f99",ttype:"\u624b\u5957",dsrc:"https://sketchfab.com/models/a5bc047bb07e4fc8a025e59023455b62/embed",transf:!1},H[117]={tid:117,wid:2,hei:2,lv:5,src:"./picture/things/weapon/rightHands.png",tname:"\u7389\u57ce",ttype:"\u624b\u5957",dsrc:"https://sketchfab.com/models/620fd8a3b781465bb11cb7a10e30d6bc/embed",transf:!1},H[80]={tid:80,wid:2,hei:3,lv:6,src:"./picture/things/weapon/ironLeg.png",tname:"\u94a2\u94c1\u4fa0",ttype:"\u4e49\u817f",dsrc:"https://sketchfab.com/models/27ff42d128274f7889491fae7513de13/embed",transf:!1},H[82]={tid:82,wid:2,hei:3,lv:6,src:"./picture/things/weapon/futureLeg.png",tname:"\u672a\u6765\u57ce",ttype:"\u4e49\u817f",dsrc:"https://sketchfab.com/models/9aeec76be3ef4264b177886df1f407d2/embed",transf:!1},H[111]={tid:111,wid:2,hei:2,lv:1,src:"./picture/things/weapon/bugu.png",tname:"\u5e03\u8c37",ttype:"\u978b",dsrc:"https://sketchfab.com/models/3d8d249c816648288ab0e9cb307141ac/embed",transf:!1},H[113]={tid:113,wid:2,hei:2,lv:1,src:"./picture/things/weapon/bugu.png",tname:"\u5e03\u8c37",ttype:"\u978b",dsrc:"https://sketchfab.com/models/3d8d249c816648288ab0e9cb307141ac/embed",transf:!1},H[40]={tid:40,wid:4,hei:3,lv:7,src:"./picture/things/weapon/cbpk.png",tname:"\u8d5b\u535a\u670b\u514bV",ttype:"\u62a4\u7532",dsrc:"https://sketchfab.com/models/17813414cc7d447e9f574c4299341c93/embed",transf:!1},H[44]={tid:44,wid:4,hei:3,lv:6,src:"./picture/things/weapon/lieyan.png",tname:"\u8d5b\u535a\u670b\u514b\u70c8\u7130",ttype:"\u62a4\u7532",dsrc:"https://sketchfab.com/models/a1be04c7ff2745e7b977fdee02d79657/embed",transf:!1},H[8]={tid:8,wid:4,hei:3,lv:5,src:"./picture/things/weapon/zfz2.png",tname:"\u6267\u6cd5\u8005",ttype:"\u62a4\u7532",dsrc:"https://sketchfab.com/models/f2cb007403144ae0bc7ae2231384c5dc/embed",transf:!1},H[76]={tid:76,wid:4,hei:2,lv:4,src:"./picture/things/weapon/sword.png",tname:"\u7389\u5203",ttype:"\u5200\u5251",dsrc:"https://sketchfab.com/models/e3caffae38ff43aea3476cea700b6a00/embed",transf:!1};new Array(8).fill(0);var L=i.createRef(),O=i.createRef();function U(e){if(e.preventDefault(),void 0===e.target.dataset.sign)return!1;var s=e.dataTransfer.getData("id"),t=document.getElementById(s);t.style.left="0",t.style.top="0",e.target.appendChild(t)}function $(e){var s=59.5;e.preventDefault();var t=e.dataTransfer.getData("id"),a=e.dataTransfer.getData("leftTopPoint"),n=e.dataTransfer.getData("eleCount"),i=e.dataTransfer.getData("mouseRelLocation"),r=e.dataTransfer.getData("sign");if("false"===e.target.dataset.place||void 0===e.target.dataset.place)return!1;var o=[Number(n.split(",")[0]),Number(n.split(",")[1])],c=o[0],d=o[1],l=[Number(a.split(",")[0]),Number(a.split(",")[1])],h=l[0],p=l[1],f=[Number(i.split(",")[0]),Number(i.split(",")[1])],m=f[0],u=e.target.offsetLeft,g=e.target.offsetTop,v=e.screenX,x=e.screenY,j=v-u,b=x-g,w=j-h,_=b-p,D=Math.floor(w/s),y=Math.floor(_/s);console.log("============"),console.log(e),console.dir(e.target.parentElement.parentElement.scrollTop),console.log("\u62d6\u62fd\u5143\u7d20\u6240\u5360\u7684\u683c\u5b50XY",[c,d]),console.log("\u9f20\u6807\u5728\u62d6\u62fd\u5143\u7d20\u4e2d\u7684\u4f4d\u7f6eXY",[h,p]),console.log("\u63a5\u6536\u5143\u7d20\u8ddd\u79bb\u5de6\u4fa7/\u4e0a\u4fa7\u7684\u8ddd\u79bb",[u,g]),console.log("\u5f53\u524d\u9f20\u6807\u5de6\u4fa7/\u4e0a\u4fa7\u8ddd\u79bb",[v,x]),console.log("\u9f20\u6807\u5728\u63a5\u6536\u5143\u7d20\u4e2d\u7684\u4f4d\u7f6e",[j,b]),console.log("\u62d6\u62fd\u5143\u7d20\u5de6\u9876\u70b9\u4f4d\u4e8e\u63a5\u6536\u5143\u7d20\u4e2d\u7684\u4f4d\u7f6e",[w,_]),console.log("\u5f53\u524d\u4f4d\u7f6e\u7f51\u683c\u7ea6\u675f",[D,y]),console.log("\u6d4b\u8bd5",e.target.scrollTop),console.log("sign",r);var N=document.getElementById(t);N.style.left=-Math.floor(m/s)*s+"px",e.target.appendChild(N)}function se(e){e.preventDefault(),e.onkeydown=function(e){console.log(e)},e.dataTransfer.dropEffect="move"}return i.useEffect((function(){o().subscribe("showInfo",(function(e,s){var t=s.things,n=!1;k.forEach((function(e){e.things.tid!==t.tid||(n=!0)})),n||(console.log("\u65b0\u589e,",t.tid),T([].concat((0,a.Z)(k),[s])),k=[].concat((0,a.Z)(k),[s]),console.log("hasInfoDiv",k))})),o().subscribe("decreseInfo",(function(e,s){console.log(s);var t=0;k.forEach((function(e,a){e.things.tid!==s.tid||(t=a)}));var a=k.slice(0,t).concat(k.slice(t+1));console.log("newInfo-keys",a,t),k=a,T(a)})),o().subscribe("warehouseThingChange",(function(e,s){}))}),[]),(0,d.jsxs)("div",{className:z,children:[k.map((function(e,s){return(0,d.jsx)(R,{items:e},s)})),(0,d.jsx)(ee,{}),(0,d.jsx)("div",{className:C,children:"WareHouse //\u4ed3\u5e93"}),(0,d.jsxs)("div",{className:X,children:[(0,d.jsx)("button",{children:"\u6682\u5b58\u533a"}),(0,d.jsx)("button",{children:"\u6392\u5e8f"}),(0,d.jsx)("button",{children:"\u66f4\u591a"})]}),(0,d.jsxs)("div",{className:M,children:[(0,d.jsxs)("div",{className:I,children:[(0,d.jsxs)("div",{className:A,children:[(0,d.jsx)("div",{}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:W,onDrop:U,onDragOver:se,"data-sign":"lef",children:"\u82af\u7247"}),(0,d.jsx)("div",{className:W,onDrop:U,onDragOver:se,"data-sign":"lef",children:"\u5934\u76d4"}),(0,d.jsx)("div",{className:W,onDrop:U,onDragOver:se,"data-sign":"lef",children:"\u82af\u7247"})]}),(0,d.jsx)("div",{}),(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:W,onDrop:U,onDragOver:se,"data-sign":"lef",children:"\u62a4\u7532"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:W,onDrop:U,onDragOver:se,"data-sign":"lef",children:"\u5de6\u624b"}),(0,d.jsx)("div",{className:W,onDrop:U,onDragOver:se,"data-sign":"lef",children:"\u53f3\u624b"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:W,onDrop:U,onDragOver:se,"data-sign":"lef",children:"\u4e49\u817f-\u5de6"}),(0,d.jsx)("div",{className:W,onDrop:U,onDragOver:se,"data-sign":"lef",children:"\u4e49\u817f-\u53f3"})]}),(0,d.jsx)("div",{}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:W,onDrop:U,onDragOver:se,"data-sign":"lef",children:"\u5de6\u811a"}),(0,d.jsx)("div",{className:W,onDrop:U,onDragOver:se,"data-sign":"lef",children:"\u53f3\u811a"})]})]}),(0,d.jsx)("img",{src:"/escape-from-death/picture/human.png",alt:"human"})]}),(0,d.jsxs)("div",{className:P,ref:L,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("br",{}),(0,d.jsx)("span",{style:{fontSize:"25px",fontWeight:800},children:"\u4e3b\u8981\u72b6\u6001"}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:["\u751f\u547d\u503c\ud83d\udc96 :  ",(0,d.jsx)(E.Z,{num:100,size:18})," / ",(0,d.jsx)(E.Z,{num:100,size:18})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:["\u8f90\u5c04\u503c\ud83e\udde0 :  ",(0,d.jsx)(E.Z,{num:100,size:18})," / ",(0,d.jsx)(E.Z,{num:100,size:18})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:["\u9971\u8179\u611f\ud83c\udf56 :  ",(0,d.jsx)(E.Z,{num:100,size:18})," / ",(0,d.jsx)(E.Z,{num:100,size:18})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:["\u542b\u6c34\u91cf\ud83d\udca6 :  ",(0,d.jsx)(E.Z,{num:100,size:18})," / ",(0,d.jsx)(E.Z,{num:100,size:18})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:["\u8d1f\u91cd\u503c\ud83e\uddbe :  ",(0,d.jsx)(E.Z,{num:100,size:18})," / ",(0,d.jsx)(E.Z,{num:100,size:18})]}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{style:{fontSize:"25px",fontWeight:800},children:"\u5176\u4ed6\u72b6\u6001"}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u8010\u529b\ud83c\udfc0 : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u529b\u91cf\ud83d\udcaa : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u6d3b\u529b\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u5065\u5eb7\ud83d\udc97 : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u6297\u538b\ud83d\udee1 : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u4ee3\u8c22\ud83d\udca9 : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u514d\u75ab\ud83e\udd7c : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u611f\u77e5\ud83d\udcf8 : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u9b45\u529b\ud83e\udd21 : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u6ce8\u610f\ud83d\udc40 : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u8bb0\u5fc6\ud83d\ude47\u200d\u2642\ufe0f : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u67aa\u68b0\ud83d\udd2b : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u540e\u5ea7\ud83e\uddff : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u9690\u853d\ud83d\udc63 : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u641c\u7d22\ud83d\uded2 : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:"\u5f39\u5323\ud83d\udead : Lv1"})," ",(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:Y})}),(0,d.jsx)("br",{})]}),(0,d.jsxs)("div",{"data-sign":"mid",children:[(0,d.jsx)("span",{children:"\u4e3b\u6b66\u5668__\u8fde\u53d1 \u5f39\u5323:30\u53d1__5.56__\u6ee1"}),(0,d.jsx)("div",{className:V,onDrop:U,onDragOver:se,"data-sign":"mid"})]}),(0,d.jsxs)("div",{"data-sign":"mid",children:[(0,d.jsx)("span",{children:"\u526f\u6b66\u5668__\u5355\u53d1 \u5f39\u5323:30\u53d1__5.56__\u6ee1"}),(0,d.jsx)("div",{className:V,onDrop:U,onDragOver:se,"data-sign":"mid"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{children:"\u53e3\u888b\u680f"}),(0,d.jsxs)("div",{className:K,onDrop:$,onDragOver:se,"data-sign":"mid",children:[m.map((function(e,s){return s<v?(0,d.jsx)("div",{className:J,"data-place":!0,"data-sign":"mid"},s):(0,d.jsx)("div",{className:J,"data-place":!1,"data-sign":"mid"},s)})),(0,d.jsx)("br",{})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{children:"\u80cc\u5305"}),(0,d.jsx)("div",{className:G,onDrop:U,onDragOver:se,"data-sign":"backpack"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{children:"\u4fdd\u9669\u7bb1"}),(0,d.jsxs)("div",{className:Q,onDrop:$,onDragOver:se,"data-sign":"mid",children:[b.map((function(e,s){return s<D?(0,d.jsx)("div",{className:J,"data-place":!0,"data-sign":"mid"},s):(0,d.jsx)("div",{className:J,"data-place":!1,"data-sign":"mid"},s)})),(0,d.jsx)("br",{})]})]})]}),(0,d.jsx)("div",{className:F,ref:O,children:(0,d.jsxs)("div",{className:q,onDrop:function(e){e.preventDefault();var s=e.dataTransfer.getData("id"),t=e.dataTransfer.getData("leftTopPoint"),a=e.dataTransfer.getData("eleCount"),n=e.dataTransfer.getData("mouseRelLocation");if(e.dataTransfer.getData("sign"),"false"===e.target.dataset.place||void 0===e.target.dataset.place)return!1;Number(a.split(",")[0]),Number(a.split(",")[1]);var i=[Number(t.split(",")[0]),Number(t.split(",")[1])],r=i[0],o=i[1],c=(Number(n.split(",")[0]),Number(n.split(",")[1]),e.target.offsetLeft),d=e.target.offsetTop,l=e.screenX-c-r,h=e.screenY-d-o,p=(Math.floor(l/59.5),Math.floor(h/59.5),document.getElementById(s));console.log("scroll",O.current.scrollTop),e.target.appendChild(p)},onDragOver:se,"data-sign":"warehouse",children:[t.map((function(e,s){return s<h?void 0!==H[s]?(0,d.jsx)("div",{className:J,"data-place":!0,"data-sign":"warehouse",children:(0,d.jsx)(l,{things:H[s]},H[s].tid)},s):(0,d.jsx)("div",{className:J,"data-place":!0,"data-sign":"warehouse"},s):(0,d.jsx)("div",{className:J,"data-place":!1,"data-sign":"warehouse"},s)})),(0,d.jsx)("br",{})]})})]})]})}}}]);
//# sourceMappingURL=407.b1e91cfd.chunk.js.map