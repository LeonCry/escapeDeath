{"version":3,"file":"static/js/395.ed29c804.chunk.js","mappings":"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","sources":["webpack://escapefromdeath/./src/pages/Main/index.module.scss?ac27","webpack://escapefromdeath/./src/components/Card/index.module.scss?f101","components/Card/index.tsx","pages/Main/index.tsx","../node_modules/pubsub-js/src/pubsub.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"main\":\"Main_main__kYq9A\",\"bacPic\":\"Main_bacPic__yBkiw\",\"blurs\":\"Main_blurs__OsvUc\",\"opacityChange\":\"Main_opacityChange__NcfSa\",\"darker\":\"Main_darker__BIvU-\",\"circleMain\":\"Main_circleMain__rmd9y\",\"circle\":\"Main_circle__cWqjK\",\"circleHover\":\"Main_circleHover__Ym8By\",\"circleHover2\":\"Main_circleHover2__ujpcB\",\"defaultHover\":\"Main_defaultHover__3O4iv\"};","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"Card_card__4-jbm\",\"cardHover\":\"Card_cardHover__2vULe\",\"card-1\":\"Card_card-1__nLEVf\",\"card-2\":\"Card_card-2__VoPqu\",\"card-3\":\"Card_card-3__gbPPI\",\"card-4\":\"Card_card-4__7j0G3\",\"card-5\":\"Card_card-5__l0r9a\",\"card-6\":\"Card_card-6__UGC7J\"};","import React from 'react'\nimport  {useNavigate} from 'react-router-dom'\nimport pubsub from 'pubsub-js'\nimport style from './index.module.scss'\n\n  const Card:React.FC<any> = (props) => {\n  //   interface gameCardTP{\n  //   id:number;\n  //   name:string;\n  //   picStr:string;\n  //   path:string;\n  // }\n    const history = useNavigate();\n    const {item} = props;\n    // 0在边上显示 1在中间显示 2取消显示\n    let [first,setFirst]:[number,Function] = React.useState(-1);\n\n    React.useEffect(()=>{\n      pubsub.subscribe('otherCardHidden',(_:unknown,id:number)=>{\n        if (item.id!==id) {\n          setFirst(2);\n        }\n      });\n      pubsub.subscribe('otherCardShow',(_:unknown,id:number)=>{\n        if (item.id!==id) {\n          setFirst(0);\n        }\n      });\n    },[item])\n\n\n    //改变Main组件的背景图片\n    function changeBG():void{\n        pubsub.publish('changeBG',item.picStr);\n    }\n    //第一次点击之后的事件\n    function clickFirst(firstClick:number):void {\n      if (firstClick===0||firstClick===-1) {\n        setFirst(1);\n        pubsub.publish('otherCardHidden',item.id);\n      }\n    }\n\n    //按钮点击事件：跳转页面\n    function butClick():void{\n      history(item.path);\n    }\n\n\n  return (\n    <div className={style.card} data-deg={item.id} onMouseEnter={changeBG} onClick = {()=>clickFirst(first)} data-click={first}>\n      <img src={item.picStr} alt=\"pic\" />\n      <span>{item.name}</span>\n      <br />\n      <div>{item.intro}</div>\n      <button onClick={butClick}>进入{item.name}</button>\n    </div>\n  )\n}\n\n\nexport default Card;","import React from 'react'\nimport pubsub from 'pubsub-js'\nimport style from './index.module.scss'\nimport Card from '../../components/Card'\n//仓库、酒馆、幸运转盘、藏身处、出发、图鉴（包括背景、身份）、设置\nconst Main:React.FC = () => {\n\n  //type\n  interface gameCardTP{\n    id:number;\n    name:string;\n    picStr:string;\n    path:string;\n    intro:string;\n  }\n  \n  const gameCard:gameCardTP[] = [\n    {id:1,name:'仓库',picStr:'picture/warestore.jpg',path:'/wareHouse',intro:'用于储存装备和物品。仓库大小有限，可以扩充但要付出昂贵的代价。'},\n    {id:2,name:'小酒馆',picStr:'picture/winkBar.jpg',path:'/winkBar',intro:'用于恢复体力。一杯酒足以让你清醒一整天，赛马和幸运转盘或许也是赚钱的好方法。'},\n    {id:3,name:'跳蚤市场',picStr:'picture/swarmp.jpg',path:'/fleaMarket',intro:'用于交换物品和买卖。你想买什么或者你想卖什么？'},\n    {id:4,name:'藏身处',picStr:'picture/room.jpg',path:'/refuge',intro:'用于锻炼角色。'},\n    {id:5,name:'图鉴',picStr:'picture/picjueg.jpg',path:'/atlas',intro:'用于鉴赏已发现的物品和装备。'},\n    {id:6,name:'设置',picStr:'picture/setting.jpg',path:'/setting',intro:'进行游戏设置。'},\n  ]\n\n  let [circleClick,setCircle]:[boolean,Function] = React.useState(false);\n  let [bg,setbg]:[string,Function] = React.useState('picture/bacdefault.jpg');\n  let [classChange,classChangeFn]:[boolean,Function] = React.useState(false);\n  //两个定时器，用来取消变黑时间\n  let timer1:React.MutableRefObject<NodeJS.Timeout|null> = React.useRef(null);\n  let timer2:React.MutableRefObject<NodeJS.Timeout|null> = React.useRef(null);\n  let preSrc:React.MutableRefObject<string> = React.useRef('');\n  React.useEffect(()=>{\n    pubsub.subscribe(\"changeBG\",(_:unknown,src:string)=>{\n      if (preSrc.current!==src) {\n        preSrc.current = src;\n        clearTimeout(timer1.current as NodeJS.Timeout);\n        clearTimeout(timer2.current as NodeJS.Timeout);\n        classChangeFn(true);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        timer1.current = setTimeout(() => {\n          setbg(src);\n        }, 250);\n        timer2.current = setTimeout(() => {\n          classChangeFn(false);\n        }, 500);\n      }\n    })\n  },[preSrc]);\n\n  function enterSelect(circleClick:boolean):void{\n    if (!circleClick) {\n      setCircle(true);\n    }\n    else{\n      setCircle(false);\n    }\n  }\n\n  //取消选择，所有选项显示\n  function cancle(e:React.MouseEvent):void{\n      if (e.currentTarget===e.target) {\n        pubsub.publish('otherCardShow',-1);\n      }\n  }\n\n\n  return (\n    <div className={style.main}>\n      <img className={style.bacPic} src={bg} alt=\"bacPic\" data-change={classChange} />\n      <div className={style.darker} id='darker' onClick={(e)=>{cancle(e)}}>\n\n      <div className={style.circleMain} data-click={circleClick} onClick={()=>enterSelect(circleClick)}>\n        <div>\n          <span>暂无活动</span>\n        </div>\n      </div>\n      {\n        circleClick?gameCard.map((item)=><Card item={item}  key={item.id}></Card>):null\n      }\n\n\n\n\n      </div>\n\n    </div>\n  )\n}\n\nexport default Main;","/**\n * Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk\n * License: MIT - http://mrgnrdrck.mit-license.org\n *\n * https://github.com/mroderick/PubSubJS\n */\n\n(function (root, factory){\n    'use strict';\n\n    var PubSub = {};\n\n    if (root.PubSub) {\n        PubSub = root.PubSub;\n        console.warn(\"PubSub already loaded, using existing version\");\n    } else {\n        root.PubSub = PubSub;\n        factory(PubSub);\n    }\n    // CommonJS and Node.js module support\n    if (typeof exports === 'object'){\n        if (module !== undefined && module.exports) {\n            exports = module.exports = PubSub; // Node.js specific `module.exports`\n        }\n        exports.PubSub = PubSub; // CommonJS module 1.1.1 spec\n        module.exports = exports = PubSub; // CommonJS\n    }\n    // AMD support\n    /* eslint-disable no-undef */\n    else if (typeof define === 'function' && define.amd){\n        define(function() { return PubSub; });\n        /* eslint-enable no-undef */\n    }\n\n}(( typeof window === 'object' && window ) || this, function (PubSub){\n    'use strict';\n\n    var messages = {},\n        lastUid = -1,\n        ALL_SUBSCRIBING_MSG = '*';\n\n    function hasKeys(obj){\n        var key;\n\n        for (key in obj){\n            if ( Object.prototype.hasOwnProperty.call(obj, key) ){\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Returns a function that throws the passed exception, for use as argument for setTimeout\n     * @alias throwException\n     * @function\n     * @param { Object } ex An Error object\n     */\n    function throwException( ex ){\n        return function reThrowException(){\n            throw ex;\n        };\n    }\n\n    function callSubscriberWithDelayedExceptions( subscriber, message, data ){\n        try {\n            subscriber( message, data );\n        } catch( ex ){\n            setTimeout( throwException( ex ), 0);\n        }\n    }\n\n    function callSubscriberWithImmediateExceptions( subscriber, message, data ){\n        subscriber( message, data );\n    }\n\n    function deliverMessage( originalMessage, matchedMessage, data, immediateExceptions ){\n        var subscribers = messages[matchedMessage],\n            callSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,\n            s;\n\n        if ( !Object.prototype.hasOwnProperty.call( messages, matchedMessage ) ) {\n            return;\n        }\n\n        for (s in subscribers){\n            if ( Object.prototype.hasOwnProperty.call(subscribers, s)){\n                callSubscriber( subscribers[s], originalMessage, data );\n            }\n        }\n    }\n\n    function createDeliveryFunction( message, data, immediateExceptions ){\n        return function deliverNamespaced(){\n            var topic = String( message ),\n                position = topic.lastIndexOf( '.' );\n\n            // deliver the message as it is now\n            deliverMessage(message, message, data, immediateExceptions);\n\n            // trim the hierarchy and deliver message to each level\n            while( position !== -1 ){\n                topic = topic.substr( 0, position );\n                position = topic.lastIndexOf('.');\n                deliverMessage( message, topic, data, immediateExceptions );\n            }\n\n            deliverMessage(message, ALL_SUBSCRIBING_MSG, data, immediateExceptions);\n        };\n    }\n\n    function hasDirectSubscribersFor( message ) {\n        var topic = String( message ),\n            found = Boolean(Object.prototype.hasOwnProperty.call( messages, topic ) && hasKeys(messages[topic]));\n\n        return found;\n    }\n\n    function messageHasSubscribers( message ){\n        var topic = String( message ),\n            found = hasDirectSubscribersFor(topic) || hasDirectSubscribersFor(ALL_SUBSCRIBING_MSG),\n            position = topic.lastIndexOf( '.' );\n\n        while ( !found && position !== -1 ){\n            topic = topic.substr( 0, position );\n            position = topic.lastIndexOf( '.' );\n            found = hasDirectSubscribersFor(topic);\n        }\n\n        return found;\n    }\n\n    function publish( message, data, sync, immediateExceptions ){\n        message = (typeof message === 'symbol') ? message.toString() : message;\n\n        var deliver = createDeliveryFunction( message, data, immediateExceptions ),\n            hasSubscribers = messageHasSubscribers( message );\n\n        if ( !hasSubscribers ){\n            return false;\n        }\n\n        if ( sync === true ){\n            deliver();\n        } else {\n            setTimeout( deliver, 0 );\n        }\n        return true;\n    }\n\n    /**\n     * Publishes the message, passing the data to it's subscribers\n     * @function\n     * @alias publish\n     * @param { String } message The message to publish\n     * @param {} data The data to pass to subscribers\n     * @return { Boolean }\n     */\n    PubSub.publish = function( message, data ){\n        return publish( message, data, false, PubSub.immediateExceptions );\n    };\n\n    /**\n     * Publishes the message synchronously, passing the data to it's subscribers\n     * @function\n     * @alias publishSync\n     * @param { String } message The message to publish\n     * @param {} data The data to pass to subscribers\n     * @return { Boolean }\n     */\n    PubSub.publishSync = function( message, data ){\n        return publish( message, data, true, PubSub.immediateExceptions );\n    };\n\n    /**\n     * Subscribes the passed function to the passed message. Every returned token is unique and should be stored if you need to unsubscribe\n     * @function\n     * @alias subscribe\n     * @param { String } message The message to subscribe to\n     * @param { Function } func The function to call when a new message is published\n     * @return { String }\n     */\n    PubSub.subscribe = function( message, func ){\n        if ( typeof func !== 'function'){\n            return false;\n        }\n\n        message = (typeof message === 'symbol') ? message.toString() : message;\n\n        // message is not registered yet\n        if ( !Object.prototype.hasOwnProperty.call( messages, message ) ){\n            messages[message] = {};\n        }\n\n        // forcing token as String, to allow for future expansions without breaking usage\n        // and allow for easy use as key names for the 'messages' object\n        var token = 'uid_' + String(++lastUid);\n        messages[message][token] = func;\n\n        // return token for unsubscribing\n        return token;\n    };\n\n    PubSub.subscribeAll = function( func ){\n        return PubSub.subscribe(ALL_SUBSCRIBING_MSG, func);\n    };\n\n    /**\n     * Subscribes the passed function to the passed message once\n     * @function\n     * @alias subscribeOnce\n     * @param { String } message The message to subscribe to\n     * @param { Function } func The function to call when a new message is published\n     * @return { PubSub }\n     */\n    PubSub.subscribeOnce = function( message, func ){\n        var token = PubSub.subscribe( message, function(){\n            // before func apply, unsubscribe message\n            PubSub.unsubscribe( token );\n            func.apply( this, arguments );\n        });\n        return PubSub;\n    };\n\n    /**\n     * Clears all subscriptions\n     * @function\n     * @public\n     * @alias clearAllSubscriptions\n     */\n    PubSub.clearAllSubscriptions = function clearAllSubscriptions(){\n        messages = {};\n    };\n\n    /**\n     * Clear subscriptions by the topic\n     * @function\n     * @public\n     * @alias clearAllSubscriptions\n     * @return { int }\n     */\n    PubSub.clearSubscriptions = function clearSubscriptions(topic){\n        var m;\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                delete messages[m];\n            }\n        }\n    };\n\n    /**\n       Count subscriptions by the topic\n     * @function\n     * @public\n     * @alias countSubscriptions\n     * @return { Array }\n    */\n    PubSub.countSubscriptions = function countSubscriptions(topic){\n        var m;\n        // eslint-disable-next-line no-unused-vars\n        var token;\n        var count = 0;\n        for (m in messages) {\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0) {\n                for (token in messages[m]) {\n                    count++;\n                }\n                break;\n            }\n        }\n        return count;\n    };\n\n\n    /**\n       Gets subscriptions by the topic\n     * @function\n     * @public\n     * @alias getSubscriptions\n    */\n    PubSub.getSubscriptions = function getSubscriptions(topic){\n        var m;\n        var list = [];\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                list.push(m);\n            }\n        }\n        return list;\n    };\n\n    /**\n     * Removes subscriptions\n     *\n     * - When passed a token, removes a specific subscription.\n     *\n\t * - When passed a function, removes all subscriptions for that function\n     *\n\t * - When passed a topic, removes all subscriptions for that topic (hierarchy)\n     * @function\n     * @public\n     * @alias subscribeOnce\n     * @param { String | Function } value A token, function or topic to unsubscribe from\n     * @example // Unsubscribing with a token\n     * var token = PubSub.subscribe('mytopic', myFunc);\n     * PubSub.unsubscribe(token);\n     * @example // Unsubscribing with a function\n     * PubSub.unsubscribe(myFunc);\n     * @example // Unsubscribing from a topic\n     * PubSub.unsubscribe('mytopic');\n     */\n    PubSub.unsubscribe = function(value){\n        var descendantTopicExists = function(topic) {\n                var m;\n                for ( m in messages ){\n                    if ( Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0 ){\n                        // a descendant of the topic exists:\n                        return true;\n                    }\n                }\n\n                return false;\n            },\n            isTopic    = typeof value === 'string' && ( Object.prototype.hasOwnProperty.call(messages, value) || descendantTopicExists(value) ),\n            isToken    = !isTopic && typeof value === 'string',\n            isFunction = typeof value === 'function',\n            result = false,\n            m, message, t;\n\n        if (isTopic){\n            PubSub.clearSubscriptions(value);\n            return;\n        }\n\n        for ( m in messages ){\n            if ( Object.prototype.hasOwnProperty.call( messages, m ) ){\n                message = messages[m];\n\n                if ( isToken && message[value] ){\n                    delete message[value];\n                    result = value;\n                    // tokens are unique, so we can just stop here\n                    break;\n                }\n\n                if (isFunction) {\n                    for ( t in message ){\n                        if (Object.prototype.hasOwnProperty.call(message, t) && message[t] === value){\n                            delete message[t];\n                            result = true;\n                        }\n                    }\n                }\n            }\n        }\n\n        return result;\n    };\n}));\n"],"names":["props","history","useNavigate","item","React","first","setFirst","pubsub","_","id","className","style","onMouseEnter","picStr","onClick","firstClick","src","alt","name","intro","path","circleClick","setCircle","bg","setbg","classChange","classChangeFn","timer1","timer2","preSrc","current","clearTimeout","setTimeout","e","currentTarget","target","cancle","enterSelect","map","root","factory","PubSub","console","warn","messages","lastUid","ALL_SUBSCRIBING_MSG","hasKeys","obj","key","Object","prototype","hasOwnProperty","call","throwException","ex","callSubscriberWithDelayedExceptions","subscriber","message","data","callSubscriberWithImmediateExceptions","deliverMessage","originalMessage","matchedMessage","immediateExceptions","s","subscribers","callSubscriber","createDeliveryFunction","topic","String","position","lastIndexOf","substr","hasDirectSubscribersFor","Boolean","messageHasSubscribers","found","publish","sync","deliver","toString","publishSync","subscribe","func","token","subscribeAll","subscribeOnce","unsubscribe","apply","this","arguments","clearAllSubscriptions","clearSubscriptions","m","indexOf","countSubscriptions","count","getSubscriptions","list","push","value","t","descendantTopicExists","isTopic","isToken","isFunction","result","undefined","module","exports","window"],"sourceRoot":""}